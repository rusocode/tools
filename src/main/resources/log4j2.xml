<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xml>

<!-- Configura el logger utilizando el nivel de eventos internos en "WARN" para registrar los mensajes 
	en consola. -->
<Configuration status="WARN" strict="true">

	<Properties>
		<Property name="LOG_DIR">target/logs</Property>
	</Properties>

	<!-- Anexadores -->
	<Appenders>

		<!-- Salida en consola -->
		<Console name="SysOut" target="SYSTEM_OUT">
			<PatternLayout pattern="[%d{HH:mm:ss}] [%c{1} thread/%level]: %msg%n" />
		</Console>

		<!-- Salida en archivo con renovacion. "Vimos una mejora del rendimiento del 20-200% en comparaciÃ³n 
			con RollingFileAppender con "bufferedIO=true" en nuestras mediciones." -->
		<RollingRandomAccessFile name="File" fileName="${LOG_DIR}/latest.log"
			filePattern="${LOG_DIR}/%d-%i.log.gz">
			<!-- Patron de conversion. En el especificador de conversion "%-5p", -5 es el modificador de formato 
				y p es el caracter de conversion. %d, %p, etc. son especificadores de conversion y las letras son caracteres 
				de conversion. -->
			<PatternLayout pattern="[%d{HH:mm:ss}] [%c{1} thread/%level]: %msg%n" />
			<!-- Politicas de renovacion -->
			<Policies>
				<!-- Solo tiene que ir una politica <TimeBasedTriggeringPolicy /> <OnStartupTriggeringPolicy /> -->
				<!-- Cada 10KB se renueva el archivo -->
				<SizeBasedTriggeringPolicy size="10 KB" />
			</Policies>
		</RollingRandomAccessFile>

	</Appenders>

	<!-- Configura los loggers para cada appender -->
	<Loggers>

		<!-- Nivel raiz para configurar todos los appenders -->
		<Root level="all">
			<AppenderRef ref="SysOut" />
			<AppenderRef ref="File" />
		</Root>

		<!-- Configura un appender en especifico <Logger name="log" level="debug"> <AppenderRef ref="File" 
			/> </Logger> -->

	</Loggers>

</Configuration>
